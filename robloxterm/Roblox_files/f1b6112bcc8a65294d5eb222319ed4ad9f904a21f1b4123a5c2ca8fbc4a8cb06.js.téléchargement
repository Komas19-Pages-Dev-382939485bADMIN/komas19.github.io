!function(){var n={779:function(e,t){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var i={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"==r||"number"==r)e.push(n);else if(Array.isArray(n)&&n.length){var a=c.apply(null,n);a&&e.push(a)}else if("object"==r)for(var o in n)i.call(n,o)&&n[o]&&e.push(o)}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):void 0===(n=function(){return c}.apply(t,[]))||(e.exports=n)}()},635:function(e){e.exports='module.exports = __webpack_public_path__ + "../html/navigation.html";'}},r={};function Ur(e){if(r[e])return r[e].exports;var t=r[e]={exports:{}};return n[e](t,t.exports,Ur),t.exports}Ur.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Ur.d(t,{a:t}),t},Ur.d=function(e,t){for(var n in t)Ur.o(t,n)&&!Ur.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},Ur.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var j=React,T=Ur.n(j),R=CoreUtilities,e=ReactDOM,d=HeaderScripts,L=ReactUtilities,P={arrowUp:38,arrowDown:40,tab:9,enter:13},t="container-main",n={name:"Roblox.Logout"},r=1,a={clickMerchandise:"clickMerchandiseInLeftNav",goToAmazonStore:"clickContinueToAmazonStore"},o={friendshipNotifications:"FriendshipNotifications",requestCountChanged:"Roblox.Friends.CountChanged",friendshipCreated:"FriendshipCreated",friendshipDestroyed:"FriendshipDestroyed",friendshipDeclined:"FriendshipDeclined",friendshipRequested:"FriendshipRequested"},i={name:"Roblox.Messages.CountChanged"},c="?",u={name:"headerMenuIconClick"},l={quickLogin:"quickLogin",logout:"logout",settings:"settings"},s={common:["CommonUI.Features","Common.AlertsAndOptions"],feature:"Feature.ShopDialog"},f=PropTypes,m=Ur.n(f),p=Ur(779),h=Ur.n(p),b=ReactStyleGuide,v=RobloxThumbnails,y=Roblox,g=y.Endpoints.getAbsoluteUrl,S=y.EnvironmentUrls.authApi,E={url:g("/discover/?Keyword="),label:"Label.Experience",pageSort:["home","games","discover"],icon:"icon-menu-games-off"},w={url:g("/catalog?CatalogContext=1&Keyword="),label:"Label.AvatarShop",pageSort:["catalog","inventory","bundles","my/avatar","trades"],icon:"icon-menu-shop"},f=[{url:g("/search/users?keyword="),label:"Label.Players",pageSort:["users"],icon:"icon-menu-profile"},w,{url:g("/search/groups?keyword="),label:"Label.sGroups",pageSort:["groups"],icon:"icon-menu-groups"},{url:g("/develop/library?CatalogContext=2&Category=6&Keyword="),label:"Label.CreatorMarketplace",pageSort:["develop"],icon:"icon-menu-library"}],U={scrollListItems:{home:{url:g("/"),idSelector:"nav-home",iconClass:"icon-nav-home",name:"home",labelTranslationKey:"Label.sHome"},profile:{url:g("/users/".concat(d.authenticatedUser.id,"/profile")),idSelector:"nav-profile",iconClass:"icon-nav-profile",name:"profile",labelTranslationKey:"Label.sProfile"},messages:{url:g("/my/messages/#!/inbox"),urlForNotification:g("/my/messages/#!/inbox"),idSelector:"nav-message",iconClass:"icon-nav-message",name:"messages",labelTranslationKey:"Label.sMessages"},friends:{url:g("/users/friends"),urlForNotification:g("/users/friends#!/friend-requests"),idSelector:"nav-friends",iconClass:"icon-nav-friends",name:"friends",labelTranslationKey:"Label.sFriends"},avatar:{url:g("/my/avatar"),idSelector:"nav-character",iconClass:"icon-nav-charactercustomizer",name:"avatar",labelTranslationKey:"Label.sAvatar"},inventory:{url:g("/users/".concat(d.authenticatedUser.id,"/inventory")),idSelector:"nav-inventory",iconClass:"icon-nav-inventory",name:"inventory",labelTranslationKey:"Label.sInventory"},trade:{url:g("/trades"),urlForNotification:g("/trades"),idSelector:"nav-trade",iconClass:"icon-nav-trade",name:"trade",labelTranslationKey:"Label.sTrade"},groups:{url:g("/my/groups"),idSelector:"nav-group",iconClass:"icon-nav-group",name:"groups",labelTranslationKey:"Label.sGroups"},blog:{url:g("https://blog.roblox.com"),idSelector:"nav-blog",iconClass:"icon-nav-blog",name:"blog",labelTranslationKey:"Label.sBlog"},shop:{isModal:!0,idSelector:"nav-shop",iconClass:"icon-nav-shop",name:"shop",labelTranslationKey:"Label.OfficialStore"},giftcards:{url:g("/giftcards-us"),idSelector:"nav-giftcards",iconClass:"icon-nav-giftcards",name:"giftcards",labelTranslationKey:"Label.GiftCards"}},upgradeButton:{url:g("/premium/membership?ctx=leftnav"),labelTranslationKey:d.authenticatedUser.isPremiumUser?"ActionsPremium":"ActionsGetPremium"},sponsorEvents:{label:{labelTranslationKey:"Label.sEvents"},events:{}},gameSearchLink:E,avatarSearchLink:w,miscSearchLink:f,universalSearchUrls:[{url:g("/search/users?keyword="),label:"Label.Players",pageSort:[]},{url:g("/discover/?Keyword="),label:"Label.Experience",pageSort:["home","games","discover"]},{url:g("/catalog/browse.aspx?CatalogContext=1&Keyword="),label:"Label.sCatalog",pageSort:["catalog","inventory","bundles"]},{url:g("/search/groups?keyword="),label:"Label.sGroups",pageSort:["groups"]},{url:g("/develop/library?CatalogContext=2&Category=6&Keyword="),label:"Label.CreatorMarketplace",pageSort:["develop"]}],newUniversalSearchUrls:[E].concat(f),settingsUrl:{settings:{url:g("/my/account"),label:"Label.sSettings"},quickLogin:{url:g("/home"),label:"Label.sQuickLogin"},help:{url:g("/info/help?locale="),label:"Label.sHelp"},logout:{url:"".concat(S,"/v2/logout"),label:"Label.sLogout"}},buyRobuxUrl:{robuxBalance:{url:g("/transactions"),label:"Label.sRobuxMessage"},buyRobux:{url:g("/upgrades/robux?ctx=navpopover"),label:"Label.sBuyRobux"}},userDataUrl:g("/navigation/userData"),quickLoginUrl:g("/crossdevicelogin/ConfirmCode")},O=y.Endpoints.getAbsoluteUrl,C=y.EnvironmentUrls.authApi,x=y.EnvironmentUrls.accountSettingsApi,A=y.EnvironmentUrls.websiteUrl,I=y.EnvironmentUrls.adsApi,N=y.EnvironmentUrls.economyApi,k=y.EnvironmentUrls.privateMessagesApi,q=y.EnvironmentUrls.tradesApi,D=y.EnvironmentUrls.friendsApi,p=(y.EnvironmentUrls.apiGatewayUrl,function(){return O("/account/signupredir")}),w=function(){return A},E=function(){return O("/")},f=function(e,t){return O("/".concat(e.toLowerCase(),"/").concat(t))},S=function(){return O("/login")},M=function(){return"".concat(C,"/v2/passwords/current-status")},F=function(){return"".concat(x,"/v1/email")},K=function(){return"".concat(C,"/v2/logout")},Q=function(){return"".concat(I,"/v1/sponsored-pages")},B=function(){return"".concat(k,"/v1/messages/unread/count")},G=function(e){return"".concat(N,"/v1/users/").concat(e,"/currency")},_=function(){return"".concat(q,"/v1/trades/inbound/count")},V=function(){return"".concat(D,"/v1/user/friend-requests/count")},$=function(){var e={url:B(),withCredentials:!0};return R.httpService.get(e)},z=function(e){e={url:G(e),withCredentials:!0};return R.httpService.get(e)},H=function(){var e={url:_(),withCredentials:!0};return R.httpService.get(e)},W=function(){var e={url:V(),withCredentials:!0};return R.httpService.get(e)},J=function(){var e={url:M(),withCredentials:!0};return R.httpService.get(e)},X=function(){var e={url:F(),withCredentials:!0};return R.httpService.get(e)},Y=function(){var e={url:Q(),withCredentials:!0};return R.httpService.get(e).then(function(e){return null==e?void 0:e.data}).catch(function(e){console.error(e)})},Z=function(){var e={url:K(),withCredentials:!0};return R.httpService.post(e)},ee=CoreRobloxUtilities;function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=ee.dataStores.userDataStore.maxFriendRequestNotificationCount;function re(e){var t=e.translate,n=e.idSelector,r=e.isModal,a=e.name,o=e.iconClass,i=e.labelTranslationKey,c=e.url,u=e.urlForNotification,l=e.onClickShopLink,s=e.friendsData,f=e.messagesData,m=e.tradeData,e=(te(e={},U.scrollListItems.friends.name,s),te(e,U.scrollListItems.messages.name,f),te(e,U.scrollListItems.trade.name,m),e)[a],c=null!=e&&e.count?u:c;return r?T().createElement("li",{key:a},T().createElement("button",{id:n,type:"button",onClick:l,className:"dynamic-overflow-container text-nav"},T().createElement("div",null,T().createElement("span",{className:o})),T().createElement("span",{className:"font-header-2 dynamic-ellipsis-item"},t(i)))):T().createElement("li",{key:a},T().createElement(b.Link,{url:c,id:n,className:"dynamic-overflow-container text-nav"},T().createElement("div",null,T().createElement("span",{className:o})),T().createElement("span",{className:"font-header-2 dynamic-ellipsis-item"},t(i)),e&&0<e.count&&T().createElement("div",{className:"dynamic-width-item align-right"},T().createElement("span",{className:"notification-blue notification",title:R.numberFormat.getNumberFormat(e.count)},function(e,t){if(e===U.scrollListItems.friends.name&&ne<=t)return"".concat(ne,"+");return R.abbreviateNumber.getTruncValue(t,1e3)}(a,e.count)))))}re.defaultProps={idSelector:"",url:"",urlForNotification:"",isModal:!1,friendsData:{count:0},messagesData:{count:0},tradeData:{count:0}},re.propTypes={idSelector:m().string,translate:m().func.isRequired,isModal:m().bool,name:m().string.isRequired,iconClass:m().string.isRequired,labelTranslationKey:m().string.isRequired,url:m().string,urlForNotification:m().string,onClickShopLink:m().func.isRequired,friendsData:m().shape({count:m().number}),messagesData:m().shape({count:m().number}),tradeData:m().shape({count:m().number})};var ae=re,g=ee.eventStreamService.eventTypes,oe=f,ie={name:"sponsoredEventClicked",type:g.pageLoad,context:"click"};function ce(e){var t=e.translate,e=e.sponsoredPagesData.map(function(e){var t=e.title,n=e.name,r=e.pageType,e=e.logoImageUrl;return e?T().createElement("li",{key:n,className:"rbx-nav-sponsor","ng-non-bindable":"true"},T().createElement("a",{className:"text-nav menu-item",href:oe(r,n),title:t,onClick:function(){return e=t,void(ee.eventStreamService&&ee.eventStreamService.sendEvent(ie,{sponsoredPageName:e}));var e}},e?T().createElement("img",{src:e,alt:""}):T().createElement("span",null,t))):null});return T().createElement(T().Fragment,null,T().createElement("li",{className:"font-bold small text-nav"}," ",t("Label.sEvents")),e)}ce.defaultProps={sponsoredPagesData:[]},ce.propTypes={translate:m().func.isRequired,sponsoredPagesData:m().instanceOf(Array)};var ue=ce;function le(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function se(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?le(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):le(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e){var t=d.authenticatedUser.isAuthenticated,n=fe((0,j.useState)([]),2),r=n[0],a=n[1];return(0,j.useEffect)(function(){t&&Y().then(function(e){e=(null!==(e=null==e?void 0:e.data)&&void 0!==e?e:[]).filter(function(e){var t,n;return!(null!=e&&null!==(t=e.name)&&void 0!==t&&t.includes("giftcards")||null!=e&&null!==(n=e.title)&&void 0!==n&&n.includes("giftcards"))});a(e)},function(e){console.debug(e)})},[t]),T().createElement(ue,se({sponsoredPagesData:r},e))}var g=angular,de=Ur.n(g);function be(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){if(e){if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e){var t=(r=xe(ke())).host,n=r.hostname,r=(a=xe(e,!1,!0)).host,a=a.hostname;return e&&r&&r===t||a&&a===n||!r&&!a}function Se(){return Z().then(function(){window.location.href=je()})}var Ee=U.universalSearchUrls,we=U.newUniversalSearchUrls,Oe=U.avatarSearchLink,Ce=R.urlService.getQueryParam,xe=R.urlService.parseUrl,Ae=R.urlService.composeQueryString,Ie=p,Ne=S,ke=w,je=E,Te=r,Re=n,Le=!d.authenticatedUser.isAuthenticated,S=function(){var a=d.authenticatedUser.created;return Promise.all([X(),J()]).then(function(e){var t=ve(e,2),n=t[0].data.verified,r=t[1].data.valid;return e=a,t=n,n=new Date,e=new Date(e),+(Te<(n-e)/864e5&&!t)+ +!r}).catch(function(e){console.debug(e)})},w=function(){var e=Ce("returnUrl")||window.location.href,t=Ie();return he(e)?"".concat(t,"?").concat(Ae({returnUrl:e})):t},E=function(){var e=Ce("returnUrl")||window.location.href,t=Ne();return he(e)?"".concat(t,"?").concat(Ae({returnUrl:e})):t},r=function(e){e.stopPropagation(),e.preventDefault(),document.dispatchEvent(new CustomEvent(Re.name)),de().isUndefined(de().element("#chat-container").scope())||(e=de().element("#chat-container").scope()).$digest(e.$broadcast("Roblox.Chat.destroyChatCookie")),null!==y.EmailVerificationService&&void 0!==y.EmailVerificationService&&y.EmailVerificationService.handleUserEmailUpsellAtLogout(Se).then(function(e){e&&!e.emailAddress||Se()})},Pe=function(e){y.EventStream&&y.EventStream.SendEventWithTarget(e,"click",{},y.EventStream.TargetTypes.WWW)},Ue=function(e){if(Le||!y.RealTime)return function(){};document.addEventListener(o.requestCountChanged,e);var t=y.RealTime.Factory.GetClient();return t.Subscribe(o.friendshipNotifications,e),function(){document.removeEventListener(o.requestCountChanged,e),t.Unsubscribe(o.friendshipNotifications,e)}},qe=function(e){return Le||!y.RealTime?function(){}:(document.addEventListener(i,e),function(){document.removeEventListener(i,e)})},De=function(){var e;return null!==(e=(null===(e=window)||void 0===e?void 0:e.innerWidth)<543)&&e},n=function(){var e=(null===(e=window)||void 0===e?void 0:e.location).pathname,e=null!==(e=null==e?void 0:e.toLowerCase())&&void 0!==e?e:"";return!e.startsWith("/login")&&!e.startsWith("/newlogin")},Me=function(){var e=be(Ee);return e.sort(function(e){return e.pageSort.reduce(function(e,t){return e||-1<window.location.href.indexOf(t)},!1)?-1:1}),e},Fe=function(){var e=be(we),t=e.filter(function(e){return e.pageSort.some(function(e){return-1<window.location.pathname.indexOf(e)})}),e=e.filter(function(e){return e.pageSort.every(function(e){return-1===window.location.pathname.indexOf(e)})});return[].concat(be(t),be(e))},Ke=function(){return Oe.pageSort.some(function(e){return-1<window.location.pathname.indexOf(e)})},Qe=function(){return document.getElementById("navigation-container")&&document.getElementById("navigation-container").className},Be=function(e){var n={};return("?"===e[0]?e.substr(1):e).split("&").forEach(function(e){var t;e.includes("=")&&(e=(t=ve(e.split("="),2))[0],t=t[1],n[null===(e=decodeURIComponent(e))||void 0===e?void 0:e.toLowerCase()]=decodeURIComponent(t))}),n};function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _e(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ve(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):_e(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function $e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function He(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}var We=a;function Je(e){var t=e.translate,n=He(e,["translate"]),r=$e((0,j.useState)(!1),2),a=r[0],o=r[1],i=(0,j.useCallback)(function(){o(function(e){return!e}),Pe(We.clickMerchandise)},[]),c=function(){o(!1)},u=Object.values(U.scrollListItems).map(function(e){return T().createElement(ae,Ge({key:e.name},Ve(Ve({translate:t,onClickShopLink:i},e),n)))}),e=T().createElement("li",{className:"rbx-upgrade-now"},T().createElement("a",{href:U.upgradeButton.url,className:"btn-growth-md btn-secondary-md",id:"upgrade-now-button"},t(U.upgradeButton.labelTranslationKey))),r=T().createElement(T().Fragment,null,T().createElement("p",{className:"shop-description"},t("Description.RetailWebsiteRedirect")),T().createElement("p",{className:"shop-warning"},t("Description.PurchaseAgeWarning"))),c=T().createElement(b.SimpleModal,{title:t("Heading.LeavingRoblox"),body:r,show:a,actionButtonShow:!0,actionButtonText:t("Action.Continue"),neutralButtonText:t("Action.Cancel"),onAction:function(){var e=decodeURIComponent(y.EnvironmentUrls.amazonWebStoreLink);window.open(e,"_blank"),Pe(We.goToAmazonStore)},onNeutral:c,onClose:c});return T().createElement("ul",{className:"left-col-list"},u,e,T().createElement(pe,{translate:t}),c)}Je.defaultProps={sponsoredPagesData:[]},Je.propTypes={sponsoredPagesData:m().instanceOf(Array),translate:m().func.isRequired};var Xe=Je;function Ye(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ze(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ye(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Ye(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nt(e){var n=d.authenticatedUser.isAuthenticated,t=et((0,j.useState)({}),2),r=t[0],a=t[1],o=(c=et((0,j.useState)({}),2))[0],i=c[1],c=(t=et((0,j.useState)({}),2))[0],u=t[1];return(0,j.useEffect)(function(){var e=function(){},t=function(){};return n&&(e=Ue(function(){W().then(function(e){e=e.data;a(e)},function(e){console.debug(e)})}),t=qe(function(){$().then(function(e){e=e.data;i(e)})}),W().then(function(e){e=e.data;a(e)},function(e){console.debug(e)}),$().then(function(e){e=e.data;i(e)},function(e){console.debug(e)}),H().then(function(e){e=e.data;u(e)},function(e){console.debug(e)})),function(){e(),t()}},[]),T().createElement(Xe,Ze({friendsData:r,messagesData:o,tradeData:c},e))}var g=d.authenticatedUser.name,p=d.authenticatedUser.displayName,rt={nameForDisplay:null!==y.DisplayNames&&void 0!==y.DisplayNames&&y.DisplayNames.Enabled()?p:g,nameForHeader:null!==y.DisplayNames&&void 0!==y.DisplayNames&&y.DisplayNames.Enabled()?R.concatTexts.concat(["",g]):g};function at(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function ot(e){var t=e.isLeftNavOpen,e=at(e,["isLeftNavOpen"]),t=h()("rbx-left-col",{"nav-show":t});return T().createElement("div",{id:"navigation",className:t},T().createElement("ul",null,T().createElement("li",{key:"username"},T().createElement(b.Link,{className:"dynamic-overflow-container text-nav",role:"link",url:U.scrollListItems.profile.url},T().createElement("span",{className:"avatar avatar-headshot-xs"},T().createElement(v.Thumbnail2d,{containerClass:"avatar-card-image",targetId:d.authenticatedUser.id,type:v.ThumbnailTypes.avatarHeadshot,altName:d.authenticatedUser.name})),T().createElement("div",{className:"font-header-2 dynamic-ellipsis-item"},rt.nameForDisplay))),T().createElement("li",{key:"divider",className:"rbx-divider"})),T().createElement(b.ScrollBar,{className:"rbx-scrollbar"},T().createElement(nt,e)))}ot.propTypes={isLeftNavOpen:m().bool.isRequired};var it=ot;function ct(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ut(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):ct(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ft=u;function mt(){return document.getElementById("navigation-container")}var pt,dt=(0,L.withTranslations)(function(e){var t=d.authenticatedUser.isAuthenticated,n=lt((0,j.useState)(!1),2),r=n[0],a=n[1],o=(0,j.useCallback)(function(){a(!r)},[r]);return(0,j.useEffect)(function(){return document.addEventListener(ft.name,o),function(){document.removeEventListener(ft.name,o)}},[o]),t?T().createElement(it,ut({isLeftNavOpen:r},e)):null},s),a=y.EnvironmentUrls.apiGatewayUrl,bt=(y.EnvironmentUrls.localeApi,{debounceTimeout:100,debouncedSearchInputMaxLength:35,expiryTimeout:5e3,variationId:1,trendingVariationId:0,avatarAutocompleteQueryPaddingAmount:10,requestSuggestionUrl:{url:a+"/games-autocomplete/v1/request-suggestion",withCredentials:!0},avatarRequestSuggestionUrl:{url:a+"/autocomplete-avatar/v2/suggest",withCredentials:!0},englishLanguageCode:"en",avatarAutocompleteUrlLocations:["Catalog","Trades","Inventory","Avatar","CatalogItem"],avatarAutocompleteSuggestionLimit:5,isSpecialTreatmentAutocompleteRestricted:function(){return 7===parseInt(mt().dataset.numberOfAutocompleteSuggestions,10)&&U.miscSearchLink.reduce(function(e,t){return e.push.apply(e,t.pageSort),e},[]).reduce(function(e,t){return e||-1<window.location.pathname.indexOf(t)},!1)},isSpecialTreatment:function(){var e;return 7===parseInt(null===(e=mt())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)},numberOfSpecialTreatmentAutocompleteSuggestions:3,isAutocompleteSuggestionsIXPTestEnabled:function(){var e;return 0<parseInt(null===(e=mt())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)},numberOfAutocompleteSuggestions:function(){var e;return parseInt(null===(e=mt())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)||0}}),vt=function(){return(vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},yt=function(e,i,c,u){return new(c=c||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},gt=function(n,r){var a,o,i,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){c.label=t[1];break}if(6===t[0]&&c.label<i[1]){c.label=i[1],i=t;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(t);break}i[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(n,c)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ht=R.httpService.createCancelToken();function St(e){return void 0===(null==e?void 0:e.label)}function Et(e){return void 0!==(null==e?void 0:e.Query)}function wt(e){if(Et(e))return"avatar";switch(e.type){case pt.QuerySuggestion:return"keyword";case pt.GameSuggestion:return"game";default:throw Error("Unrecognized autocomplete suggestion, ".concat(JSON.stringify(e)))}}function Ot(e){switch(e.label){case"Label.Players":return"defaultPlayers";case"Label.AvatarShop":case"Label.sCatalog":return"defaultShops";case"Label.sGroups":return"defaultGroups";case"Label.CreatorMarketplace":return"defaultLibrary";case"Label.Experience":return"defaultGames";default:throw Error("Unrecognized default suggestion, ".concat(JSON.stringify(e)))}}(a=pt=pt||{})[a.GameSuggestion=0]="GameSuggestion",a[a.QuerySuggestion=1]="QuerySuggestion",a[a.TrendingQuerySuggestion=2]="TrendingQuerySuggestion";var Ct=function(n){return yt(void 0,void 0,Promise,function(){var t;return gt(this,function(e){switch(e.label){case 0:return t={prefix:n.toLowerCase(),variationId:bt.variationId,trendingSearchId:bt.trendingVariationId},ht.cancel(),ht=R.httpService.createCancelToken(),[4,R.httpService.post(vt(vt({},bt.requestSuggestionUrl),{timeout:bt.expiryTimeout,cancelToken:ht.token,fullError:!0}),t)];case 1:return[2,e.sent().data]}})})},xt=function(n,r,a){return yt(void 0,void 0,Promise,function(){var t;return gt(this,function(e){switch(e.label){case 0:return null===(t=r)&&(t=bt.englishLanguageCode),t={prefix:n.toLowerCase(),limit:a,lang:t},ht.cancel(),ht=R.httpService.createCancelToken(),[4,R.httpService.get(vt(vt({},bt.avatarRequestSuggestionUrl),{timeout:bt.expiryTimeout,cancelToken:ht.token,fullError:!0}),t)];case 1:return[2,e.sent().data]}})})},At=St,It=Et,Nt=wt,kt=Ot,jt=function(e,t){var n;return St(e)&&Et(e)?U.avatarSearchLink.url+encodeURIComponent(e.Query):St(e)?U.gameSearchLink.url+encodeURIComponent(e.searchQuery):null!=t&&null!==(n=t.target)&&void 0!==n&&n.value?e.url+encodeURIComponent(t.target.value):""},Tt=function(){var e=(new y.TranslationResourceProvider).intl.locale,t=e.indexOf("-");return(e=e.substring(0,-1!==t?t:e.length))!==bt.englishLanguageCode&&(e+=",".concat(bt.englishLanguageCode)),e},Rt=function(e,t){return e.map(function(e){return St(e)?"".concat(wt(e),"|").concat(e.searchQuery):"".concat(Ot(e),"|").concat(t)}).join(",")},Lt=ee.eventStreamService.eventTypes,Pt="searchAutocomplete",Ut={actionTypes:{open:"open",submit:"submit",close:"close"},generateSessionInfo:R.uuidService.generateRandomUuid,searchTextTrim:function(e,t,n,r){return[{name:"searchTextTrim",type:Lt.formInteraction,context:Pt},{kwd:e,resultingKwd:t,searchType:n,sessionInfo:r}]},searchClear:function(e,t,n,r){return[{name:"searchClear",type:Lt.formInteraction,context:Pt},{kwd:e,searchType:t,sessionInfo:n,page:r}]},searchSuggestionClicked:function(e,t,n,r,a,o,i){return[{name:"searchSuggestionClicked",type:Lt.formInteraction,context:Pt},{kwd:e,searchType:t,suggestionPosition:n,suggestionClicked:r,suggestionType:a,suggestions:o,sessionInfo:i}]},searchAutocomplete:function(e,t,n,r,a,o,i,c,u){return[{name:"searchAutocomplete",type:Lt.formInteraction,context:Pt},{kwd:e,previousKwd:t,fromLocalCache:n,suggestions:r,algorithm:a,latency:o,timeoutDelayMs:i,sessionInfo:c,page:u}]},search:function(e,t,n){return[{name:"search",type:Lt.formInteraction,context:Pt},{kwd:e,actionType:t,sessionInfo:n}]},catalogSearch:function(e,t){return[{name:"catalogSearch",type:Lt.formInteraction,context:Pt},{autocompleteFlag:e,previousPage:t}]}};function qt(e){return function(e){if(Array.isArray(e))return Ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Mt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||Mt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){if(e){if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kt(e){var a,o=e.translate,i=e.searchInput,c=e.indexOfSelectedOption,u=e.autocompleteSessionInfo,l=e.resetAutocompleteSessionInfo,s=Me();return T().createElement(T().Fragment,null,Object.entries(s).map(function(e){var t=Dt(e,2),n=t[0],r=t[1],e=r.url,t=r.label;"Label.sCatalog"===(a=t)&&(a="Label.AvatarShop");t=h()("navbar-search-option rbx-clickable-li",parseInt(n,10)===c?" selected":"");return T().createElement("li",{key:n,className:t},T().createElement(b.Link,{className:"navbar-search-anchor",url:e+i,onClick:function(){ee.eventStreamService.sendEvent.apply(ee.eventStreamService,qt(Ut.searchSuggestionClicked(i,void 0,n,i,kt(r),Rt(s,i),u))),l()}},o("Label.sSearchPhrase",{phrase:i,location:o(a)})))}))}Kt.propTypes={translate:m().func.isRequired,searchInput:m().string.isRequired,indexOfSelectedOption:m().number.isRequired,autocompleteSessionInfo:m().string.isRequired,resetAutocompleteSessionInfo:m().func.isRequired};var Qt=Kt;function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _t=U.gameSearchLink,Vt=U.avatarSearchLink;function $t(e){var t=e.translate,n=e.selected,r=e.suggestion,a=e.onClick,o=h()("navbar-search-option rbx-clickable-li",{"new-selected":n}),i=r.type,c=r.universeId,e=r.searchQuery,n=Bt((0,j.useState)(!1),2),r=n[0],u=n[1];return i===pt.GameSuggestion?T().createElement("li",{className:o},T().createElement(b.Link,{className:"new-navbar-search-anchor",url:_t.url+encodeURIComponent(e),onClick:a},T().createElement("span",{className:h()(_t.icon,"navbar-list-option-icon")}),T().createElement("span",{className:"navbar-list-option-text"},e),T().createElement("span",{className:"navbar-list-option-suffix"},t("Label.sSearchPhraseV2",{location:t(_t.label)})),T().createElement("span",{className:h()("navbar-list-option-thumbnail",{"navbar-list-option-thumbnail-visible":r})},T().createElement("span",{className:"background-icon"}),T().createElement(v.Thumbnail2d,{type:v.ThumbnailTypes.gameIcon,size:v.DefaultThumbnailSize,targetId:c,containerClass:"thumbnail-icon",format:v.ThumbnailFormat.jpeg,onLoad:function(){u(!0)}})))):T().createElement("li",{className:o},T().createElement(b.Link,{className:"new-navbar-search-anchor",url:_t.url+encodeURIComponent(e),onClick:a},T().createElement("span",{className:h()(_t.icon,"navbar-list-option-icon")}),T().createElement("span",{className:"navbar-list-option-text"},e),T().createElement("span",{className:"navbar-list-option-suffix"},t("Label.sSearchPhraseV2",{location:t(_t.label)}))))}function zt(e){var t=e.translate,n=e.selected,r=e.suggestion,e=e.onClick,n=h()("navbar-search-option rbx-clickable-li",{"new-selected":n}),r=r.Query;return T().createElement("li",{className:n},T().createElement(b.Link,{className:"new-navbar-search-anchor",url:Vt.url+encodeURIComponent(r),onClick:e},T().createElement("span",{className:h()(Vt.icon,"navbar-list-option-icon")}),T().createElement("span",{className:"navbar-list-option-text"},r),T().createElement("span",{className:"navbar-list-option-suffix"},t("Label.sSearchPhraseV2",{location:t(Vt.label)}))))}function Ht(e){var t=e.translate,n=e.selected,r=e.searchInput,a=e.suggestion,o=e.onClick,i=a.url,e=a.label,a=a.icon,n=h()("navbar-search-option rbx-clickable-li",{"new-selected":n});return T().createElement("li",{className:n},T().createElement(b.Link,{className:"new-navbar-search-anchor",url:i+encodeURIComponent(r),onClick:o},T().createElement("span",{className:h()(a,"navbar-list-option-icon")}),T().createElement("span",{className:"navbar-list-option-text"},r.toLowerCase()),T().createElement("span",{className:"navbar-list-option-suffix"},t("Label.sSearchPhraseV2",{location:t(e)}))))}function Wt(e){return function(e){if(Array.isArray(e))return Jt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xt(e){function r(t,n){return function(){var e=c[n];ee.eventStreamService.sendEvent.apply(ee.eventStreamService,Wt(Ut.searchSuggestionClicked(o,void 0,n,At(e)?e.searchQuery:o,t,Rt(c,o),u))),l();e=t.includes("default")?0:1;ee.eventStreamService.sendEvent.apply(ee.eventStreamService,Wt(Ut.catalogSearch(e,R.pageName.PageNameProvider.getInternalPageName())))}}var a=e.translate,o=e.searchInput,i=e.indexOfSelectedOption,c=e.searchSuggestions,u=e.autocompleteSessionInfo,l=e.resetAutocompleteSessionInfo;return c.map(function(e,t){var n=parseInt(t,10)===i;return At(e)&&It(e)?T().createElement(zt,{key:e.Query,translate:a,selected:n,suggestion:e,onClick:r(Nt(e),t)}):At(e)?T().createElement($t,{key:e.searchQuery,translate:a,selected:n,suggestion:e,onClick:r(Nt(e),t)}):T().createElement(Ht,{key:e.url,translate:a,selected:n,suggestion:e,searchInput:o,onClick:r(kt(e),t)})})}$t.propTypes={translate:m().func.isRequired,selected:m().bool.isRequired,suggestion:m().shape({type:m().number.isRequired,score:m().number.isRequired,universeId:m().number,canonicalTitle:m().string,thumbnailUrl:m().string,searchQuery:m().string.isRequired,trendingSearchStartDateTime:m().string}).isRequired,onClick:m().func.isRequired},zt.propTypes={translate:m().func.isRequired,selected:m().bool.isRequired,suggestion:m().shape({Query:m().string}).isRequired,onClick:m().func.isRequired},Ht.propTypes={translate:m().func.isRequired,selected:m().bool.isRequired,searchInput:m().string.isRequired,suggestion:m().shape({url:m().string.isRequired,label:m().string.isRequired,pageSort:m().arrayOf(m().string).isRequired,icon:m().string.isRequired}).isRequired,onClick:m().func.isRequired},Xt.propTypes={translate:m().func.isRequired,searchInput:m().string.isRequired,indexOfSelectedOption:m().number.isRequired,searchSuggestions:m().arrayOf(m().oneOfType([m().shape({type:m().number.isRequired,score:m().number.isRequired,universeId:m().number.isRequired,canonicalTitle:m().string,thumbnailUrl:m().string,searchQuery:m().string.isRequired,trendingSearchStartDateTime:m().string}),m().shape({url:m().string.isRequired,label:m().string.isRequired,pageSort:m().arrayOf(m().string).isRequired,icon:m().string.isRequired}),m().shape({Query:m().string.isRequired,Score:m().number.isRequired})])).isRequired,autocompleteSessionInfo:m().string.isRequired,resetAutocompleteSessionInfo:m().func.isRequired};var Yt=Xt;function Zt(e){return function(e){if(Array.isArray(e))return en(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return en(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tn(e){var t=e.translate,n=e.searchInput,r=e.isMenuOpen,a=e.openMenu,o=e.closeMenu,i=e.handleSearch,c=e.setIsMenuHover,u=e.indexOfSelectedOption,l=e.onSubmit,s=e.onKeyDown,f=e.onKeyUp,m=e.isUniverseSearchShown,p=e.searchSuggestions,d=e.autocompleteSessionInfo,b=e.resetAutocompleteSessionInfo,v=e.isAvatarAutocompleteEnabled,y=(0,j.createRef)(),g=(0,j.createRef)(),e=function(){var e;ee.eventStreamService.sendEvent.apply(ee.eventStreamService,Zt(Ut.searchClear(n,void 0,d,null===R.pageName||void 0===R.pageName||null===(e=R.pageName.PageNameProvider)||void 0===e?void 0:e.getInternalPageName()))),null==y||null!==(e=y.current)&&void 0!==e&&e.focus(),i({target:{value:""}})},m=h()("navbar-left navbar-search col-xs-5 col-sm-6 col-md-2 col-lg-3",{"navbar-search-open":r,shown:m}),v=bt.isAutocompleteSuggestionsIXPTestEnabled()||v;return(0,L.useOnClickOutside)([y,g],o),T().createElement("div",{"data-testid":"navigation-search-input",className:m,role:"search"},T().createElement("div",{className:"input-group"},T().createElement("form",{onSubmit:l},v?T().createElement("div",{className:"form-has-feedback"},T().createElement("input",{ref:y,id:"navbar-search-input","data-testid":"navigation-search-input-field",className:"form-control input-field new-input-field",value:n,onChange:i,placeholder:t("Label.sSearch"),maxLength:"120",onFocus:a,onKeyDown:s,onKeyUp:f,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),0<n.length&&T().createElement("span",{"data-testid":"navigation-search-input-clear-button",tabIndex:0,role:"button","aria-label":"Clear Search",onClick:e,onKeyDown:e,className:"clear-search icon-actions-clear-sm"},T().createElement("span",null))):T().createElement("input",{ref:y,id:"navbar-search-input","data-testid":"navigation-search-input-field",className:"form-control input-field",type:"text",value:n,onChange:i,placeholder:t("Label.sSearch"),maxLength:"120",onFocus:a,onKeyDown:s,onKeyUp:f,autoComplete:"off"})),T().createElement("div",{className:"input-group-btn"},T().createElement("button",{"data-testid":"navigation-search-input-search-button",className:"input-addon-btn",type:"submit"},T().createElement("span",{className:"icon-common-search-sm"})))),T().createElement("ul",{ref:g,className:h()("dropdown-menu",{"new-dropdown-menu":v}),role:"menu",onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)}},v?T().createElement(Yt,{translate:t,searchInput:n,indexOfSelectedOption:u,searchSuggestions:p,autocompleteSessionInfo:d,resetAutocompleteSessionInfo:b}):T().createElement(Qt,{translate:t,searchInput:n,indexOfSelectedOption:u,autocompleteSessionInfo:d,resetAutocompleteSessionInfo:b})))}tn.defaultProps={isUniverseSearchShown:!0,isAvatarAutocompleteEnabled:!1},tn.propTypes={translate:m().func.isRequired,searchInput:m().string.isRequired,isMenuOpen:m().bool.isRequired,openMenu:m().func.isRequired,closeMenu:m().func.isRequired,handleSearch:m().func.isRequired,setIsMenuHover:m().func.isRequired,indexOfSelectedOption:m().number.isRequired,onSubmit:m().func.isRequired,onKeyDown:m().func.isRequired,onKeyUp:m().func.isRequired,isUniverseSearchShown:m().bool,isAvatarAutocompleteEnabled:m().bool,searchSuggestions:m().arrayOf(m().oneOfType([m().shape({type:m().number.isRequired,score:m().number.isRequired,universeId:m().number.isRequired,canonicalTitle:m().string,thumbnailUrl:m().string,searchQuery:m().string.isRequired,trendingSearchStartDateTime:m().string}),m().shape({url:m().string.isRequired,label:m().string.isRequired,pageSort:m().arrayOf(m().string).isRequired,icon:m().string}),m().shape({query:m().string.isRequired,score:m().number.isRequired})])).isRequired,autocompleteSessionInfo:m().string.isRequired,resetAutocompleteSessionInfo:m().func.isRequired};var nn=tn;function rn(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function an(e){return function(e){if(Array.isArray(e))return un(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||cn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||cn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){if(e){if("string"==typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(e,t):void 0}}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ln(e){function i(e){if(e){if(A){var t=-1===c.findIndex(function(e){return e.searchQuery===u.toLowerCase()&&It(e)}),n=e.filter(function(e){return e.searchQuery!==u.toLowerCase()||It(e)});return[].concat(an(E.slice(0,t?C+1:C)),an(n),an(E.slice(C+1)))}if(bt.isSpecialTreatmentAutocompleteRestricted())return E;n=-1===e.findIndex(function(e){return e.searchQuery===u.toLowerCase()&&e.type===pt.GameSuggestion}),e=e.filter(function(e){return e.searchQuery!==u.toLowerCase()||e.type===pt.GameSuggestion}).slice(0,bt.isSpecialTreatment()?bt.numberOfSpecialTreatmentAutocompleteSuggestions:bt.numberOfAutocompleteSuggestions());return[].concat(an(E.slice(0,n?O+1:O)),an(e),an(E.slice(O+1)))}return E}var t=e.translate,n=e.isUniverseSearchShown,r=on((0,j.useState)(Be(window.location.search).keyword||""),2),a=r[0],o=r[1],u=(0,L.useDebounce)(a,bt.debounceTimeout),l=(0,L.usePrevious)(u),e=on((0,j.useState)(null),2),c=e[0],s=e[1],r=on((0,j.useState)(Ut.generateSessionInfo()),2),f=r[0],m=r[1],e=on((0,j.useState)(!1),2),p=e[0],d=e[1],r=on((0,j.useState)(!0),2),b=r[0],v=r[1],e=on((0,j.useState)(!1),2),y=e[0],r=e[1],e=on((0,j.useState)(0),2),g=e[0],h=e[1],S=P,e=on((0,j.useState)((bt.isAutocompleteSuggestionsIXPTestEnabled()?Fe:Me)()),2),E=e[0],w=e[1],O=E.findIndex(function(e){return e.label===U.gameSearchLink.label}),C=Fe().findIndex(function(e){return e.label===U.avatarSearchLink.label}),x=Tt(),A=Ke(),I=(0,j.useMemo)(function(){return i(c)},[c,E]),N=I.length;(0,j.useEffect)(function(){b||ee.eventStreamService.sendEvent.apply(ee.eventStreamService,an(Ut.search(a,Ut.actionTypes.submit,f))),v(!1);var e=function(){var c,e=(c=regeneratorRuntime.mark(function e(){var t,n,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!==u&&u.length<=bt.debouncedSearchInputMaxLength)){e.next=33;break}if(s(null),t=Date.now(),A)return e.prev=4,n=Date.now(),e.next=8,xt(u,x,bt.avatarAutocompleteQueryPaddingAmount);e.next=19;break;case 8:a=e.sent,o=function(e,t){var n=0,r=[];return e.forEach(function(e){n<bt.avatarAutocompleteSuggestionLimit&&e.Query!==t&&(r.push(e),n+=1)}),r}(a.Data,u),ee.eventStreamService.sendEvent.apply(ee.eventStreamService,an(Ut.searchAutocomplete(u,l,!1,o,a.Args.Algo,n-t,bt.debounceTimeout,"",R.pageName.PageNameProvider.getInternalPageName()))),s(o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),R.httpService.isCancelled(e.t0)||s([]);case 17:e.next=33;break;case 19:if(bt.isAutocompleteSuggestionsIXPTestEnabled())return e.prev=20,e.next=23,Ct(u);e.next=33;break;case 23:r=e.sent,a=Date.now(),o=i(r.entries),ee.eventStreamService.sendEvent.apply(ee.eventStreamService,an(Ut.searchAutocomplete(u,l,!1,Rt(o,u),r.algorithmName,a-t,bt.debounceTimeout,f,R.pageName.PageNameProvider.getInternalPageName()))),s(r.entries),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(20),R.httpService.isCancelled(e.t1)||s([]);case 33:case"end":return e.stop()}},e,null,[[4,14],[20,30]])}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){rn(r,t,n,a,o,"next",e)}function o(e){rn(r,t,n,a,o,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}}();A&&w(Fe()),e()},[u]);function k(){m(Ut.generateSessionInfo())}return T().createElement(nn,{searchInput:a,handleSearch:function(e){e=e.target.value;e.length<a.length&&ee.eventStreamService.sendEvent.apply(ee.eventStreamService,an(Ut.searchTextTrim(a,e,void 0,f))),0===e.length&&k(),h(0),d(0<e.length),o(e)},openMenu:function(){var e=Ut.generateSessionInfo();ee.eventStreamService.sendEvent.apply(ee.eventStreamService,an(Ut.search(a,Ut.actionTypes.open,e))),m(e),0===a.length||y||d(!0)},closeMenu:function(){p&&(ee.eventStreamService.sendEvent.apply(ee.eventStreamService,an(Ut.search(a,Ut.actionTypes.close,f))),d(!1))},setIsMenuHover:r,isMenuOpen:p,indexOfSelectedOption:g,onSubmit:function(e){e.preventDefault(),e.stopPropagation()},onKeyDown:function(e){var t=g;!p||e.keyCode!==S.arrowUp&&e.keyCode!==S.arrowDown&&e.keyCode!==S.tab||(e.stopPropagation(),e.preventDefault(),e.keyCode===S.arrowUp?--t:t+=1,(t%=N)<0&&(t=N+t),h(t))},onKeyUp:function(e){var t;e.keyCode===S.enter&&(e.stopPropagation(),e.preventDefault(),t=I[g],At(t)?(ee.eventStreamService.sendEvent.apply(ee.eventStreamService,an(Ut.searchSuggestionClicked(u,void 0,g,t.searchQuery,Nt(t),Rt(I,a),f))),ee.eventStreamService.sendEvent.apply(ee.eventStreamService,an(Ut.catalogSearch(1,R.pageName.PageNameProvider.getInternalPageName())))):(ee.eventStreamService.sendEvent.apply(ee.eventStreamService,an(Ut.searchSuggestionClicked(u,void 0,g,u,kt(t),Rt(I,a),f))),ee.eventStreamService.sendEvent.apply(ee.eventStreamService,an(Ut.catalogSearch(0,R.pageName.PageNameProvider.getInternalPageName())))),k(),(e=jt(t,e))&&(window.location=e))},isUniverseSearchShown:n,translate:t,searchSuggestions:I,autocompleteSessionInfo:f,resetAutocompleteSessionInfo:k,isAvatarAutocompleteEnabled:A})}ln.defaultProps={isUniverseSearchShown:!0},ln.propTypes={translate:m().func.isRequired,isUniverseSearchShown:m().bool};var sn=(0,L.withTranslations)(ln,s);function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=bn(n);return e=r?(e=bn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==fn(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(a,T().Component);var e,t,n,r=dn(a);function a(){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return e=a,(t=[{key:"componentDidMount",value:function(){try{de().module("notificationStreamIcon"),de().bootstrap(this.container,["notificationStreamIcon"])}catch(e){console.log(e)}}},{key:"render",value:function(){var t=this;return T().createElement("span",{ref:function(e){t.container=e},className:"nav-robux-icon rbx-menu-item"},T().createElement("span",{id:"notification-stream-icon-container","notification-stream-indicator":"true"}))}}])&&mn(e.prototype,t),n&&mn(e,n),a}();function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t){return(hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=En(n);return e=r?(e=En(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==yn(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hn(e,t)}(a,T().Component);var e,t,n,r=Sn(a);function a(){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return e=a,(t=[{key:"componentDidMount",value:function(){try{de().module("notificationStream"),de().bootstrap(this.container,["notificationStream"])}catch(e){console.log(e)}}},{key:"render",value:function(){var t=this,e=Qe(),e=h()("notification-stream-base",e);return T().createElement("div",{ref:function(e){t.container=e},className:e,"notification-stream-base-view":"true"})}}])&&gn(e.prototype,t),n&&gn(e,n),a}(),On={name:"nsCloseContent",context:"click",additionalProperties:{}},Cn="Notifications.NotificationCenterIcon",xn="Navigation.useNotificationBellIcon";function An(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return In(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return In(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nn(){var e=(0,j.useRef)(),t=An((0,j.useState)(!1),2),n=t[0],r=t[1];return(0,j.useEffect)(function(){if(null===localStorage.getItem(xn))try{y.ExperimentationService.getAllValuesForLayer(Cn).then(function(e){var t=!1;void 0!==e.useNotificationBellIcon&&(t=e.useNotificationBellIcon),localStorage.setItem(xn,t),r(JSON.parse(localStorage.getItem(xn)))})}catch(e){localStorage.setItem(xn,!1)}else"undefined"===localStorage.getItem(xn)||"null"===localStorage.getItem(xn)?(localStorage.removeItem(xn),r(!1)):r(JSON.parse(localStorage.getItem(xn)))},[]),T().createElement("li",{id:"navbar-stream",ref:e,className:"navbar-icon-item navbar-stream"},T().createElement(b.Popover,{id:"notification-stream-popover",trigger:"click",placement:"bottom",closeOnClick:!1,button:T().createElement("button",{type:"button",className:n?"btn-uiblox-common-common-notification-bell-md":"btn-navigation-nav-notification-stream-md"},T().createElement(vn,null)),container:e.current,onExit:function(){window.dispatchEvent(new Event("Roblox.NotificationStream.StreamClosed")),ee.eventStreamService.sendEventWithTarget(On.name,On.context,On.additionalProperties)},role:"menu"},T().createElement(wn,null)))}Nn.propTypes={};var kn=Nn;function jn(e){var t=e.accountNotificationCount,e=h()("notification-red notification nav-setting-highlight",{hidden:0===t});return T().createElement("span",{id:"settings-icon",className:"nav-settings-icon rbx-menu-item"},T().createElement("span",{className:"icon-nav-settings roblox-popover-close",id:"nav-settings"}),T().createElement("span",{className:e},t))}jn.defaultProps={accountNotificationCount:0},jn.propTypes={accountNotificationCount:m().number};var Tn=jn;function Rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ln(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pn=U.settingsUrl,Un=U.quickLoginUrl,qn=r,Dn=l.quickLogin,Mn=l.settings,Fn=l.logout;function Kn(e){var r=e.translate,a=e.accountNotificationCount,o=e.isCrossDeviceLoginCodeValidationDisplayed,i=h()("notification-blue notification nav-setting-highlight",{hidden:0===a});return Object.entries(Pn).map(function(e){var t=Rn(e,2),n=t[0],e=t[1],t=e.url,e=e.label;return T().createElement("li",null,n===Fn&&T().createElement(b.Link,{className:"rbx-menu-item logout-menu-item",key:n,onClick:qn,url:"#"},r(e)),n===Dn&&o&&T().createElement(b.Link,{className:"rbx-menu-item",key:n,url:Un},r(e)),n!==Fn&&n!==Dn&&T().createElement(b.Link,{cssClasses:"rbx-menu-item",key:n,url:t},r(e),n===Mn&&T().createElement("span",{className:i},a)))})}Kn.defaultProps={accountNotificationCount:0,isCrossDeviceLoginCodeValidationDisplayed:!1},Kn.propTypes={translate:m().func.isRequired,accountNotificationCount:m().number,isCrossDeviceLoginCodeValidationDisplayed:m().bool};var Qn=Kn;function Bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _n(e){var t=e.translate,n=e.accountNotificationCount,r=Bn((0,j.useState)(!1),2),e=r[0],a=r[1],r=(0,j.useRef)();return(0,j.useEffect)(function(){a(!0)},[]),T().createElement("li",{id:"navbar-settings",ref:r,className:"navbar-icon-item"},T().createElement(b.Popover,{id:"settings-popover",trigger:"click",placement:"bottom",className:Qe(),containerPadding:20,button:T().createElement("button",{type:"button",className:"btn-navigation-nav-settings-md"},T().createElement(Tn,{accountNotificationCount:n})),container:r.current,role:"menu"},T().createElement("div",{className:Qe()},T().createElement("ul",{id:"settings-popover-menu",className:"dropdown-menu"},T().createElement(Qn,{isCrossDeviceLoginCodeValidationDisplayed:e,translate:t,accountNotificationCount:n})))))}_n.defaultProps={accountNotificationCount:0},_n.propTypes={translate:m().func.isRequired,accountNotificationCount:m().number};var Vn=_n;function $n(e){var t=e.robuxAmount,n=e.isGetCurrencyCallDone,e=e.robuxError,t=e?c:R.abbreviateNumber.getTruncValue(t),t=T().createElement(j.Fragment,null,T().createElement("span",{className:"icon-robux-28x28 roblox-popover-close",id:"nav-robux"}),T().createElement("span",{className:"rbx-text-navbar-right text-header",id:"nav-robux-amount"},n&&t));return T().createElement("span",{id:"nav-robux-icon",className:"nav-robux-icon rbx-menu-item"},e?T().createElement(b.Tooltip,{id:"current-error",content:e,placement:"bottom",containerClassName:"nav-buy-robux-icon-tooltip-container"},t):t)}$n.defaultProps={robuxAmount:0,robuxError:""},$n.propTypes={robuxAmount:m().number,robuxError:m().string,isGetCurrencyCallDone:m().bool.isRequired};var zn=$n,Hn=U.buyRobuxUrl;function Wn(e){var t=e.translate,n=e.robuxAmount,r=e.isGetCurrencyCallDone,n=e.robuxError?c:R.numberFormat.getNumberFormat(n);return T().createElement(T().Fragment,null,T().createElement("li",null,T().createElement(b.Link,{cssClasses:"rbx-menu-item",id:"nav-robux-balance",url:Hn.robuxBalance.url},r&&t("Label.sRobuxMessage",{robuxValue:n}))),T().createElement("li",null,T().createElement(b.Link,{cssClasses:"rbx-menu-item",url:Hn.buyRobux.url},t(Hn.buyRobux.label))))}Wn.defaultProps={robuxAmount:0,robuxError:""},Wn.propTypes={translate:m().func.isRequired,robuxAmount:m().number,robuxError:m().string,isGetCurrencyCallDone:m().bool.isRequired};var Jn=Wn;function Xn(e){var t=e.translate,n=e.robuxAmount,r=e.isGetCurrencyCallDone,a=e.robuxError,e=(0,j.useRef)();return T().createElement("li",{id:"navbar-robux",ref:e,className:"navbar-icon-item"},T().createElement(b.Popover,{id:"buy-robux-popover",trigger:"click",placement:"bottom",button:T().createElement("button",{type:"button",className:"btn-navigation-nav-robux-md"},T().createElement(zn,{robuxAmount:n,isGetCurrencyCallDone:r,robuxError:a})),role:"menu",container:e.current},T().createElement("div",{className:Qe()},T().createElement("ul",{id:"buy-robux-popover-menu",className:"dropdown-menu"},T().createElement(Jn,{translate:t,robuxAmount:n,isGetCurrencyCallDone:r,robuxError:a})))))}Xn.defaultProps={robuxAmount:0,robuxError:""},Xn.propTypes={translate:m().func.isRequired,robuxAmount:m().number,robuxError:m().string,isGetCurrencyCallDone:m().bool.isRequired};var Yn=Xn;function Zn(e){e=e.toggleUniverseSearch;return T().createElement("li",{className:"rbx-navbar-right-search"},T().createElement("button",{type:"button",className:"rbx-menu-item btn-navigation-nav-search-white-md",onClick:e},T().createElement("span",{className:"icon-nav-search-white"})))}Zn.propTypes={toggleUniverseSearch:m().func.isRequired};var er=Zn;function tr(){var e=d.authenticatedUser.isUnder13;return T().createElement("div",{className:"age-bracket-label text-header"},T().createElement(b.Link,{className:"text-link dynamic-overflow-container",url:U.scrollListItems.profile.url},T().createElement("span",{className:"avatar avatar-headshot-xs"},T().createElement(v.Thumbnail2d,{containerClass:"avatar-card-image",targetId:d.authenticatedUser.id,type:v.ThumbnailTypes.avatarHeadshot,altName:d.authenticatedUser.name})),T().createElement("span",{className:"text-overflow age-bracket-label-username font-caption-header"},rt.nameForHeader)),T().createElement("span",{className:"xsmall age-bracket-label-age text-secondary"},e?"<13":"13+"))}tr.propTypes={};var nr=tr;function rr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ar(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var or=S;function ir(e){var t=e.translate,n=e.toggleUniverseSearch,r=d.authenticatedUser.isAuthenticated,a=d.authenticatedUser.id,o=rr((0,j.useState)(0),2),i=o[0],c=o[1],u=rr((0,j.useState)(!1),2),l=u[0],s=u[1],e=rr((0,j.useState)(0),2),o=e[0],f=e[1],u=rr((0,j.useState)(""),2),e=u[0],m=u[1];(0,j.useEffect)(function(){r&&(or().then(c),z(a).then(function(e){e=e.data;f(e.robux)},function(){m("Currency service unavailable")}).finally(function(){s(!0)}))},[r,a]);var p=T().createElement("li",{id:"navbar-stream",className:"navbar-icon-item navbar-stream"},T().createElement("span",{className:"nav-robux-icon rbx-menu-item"},T().createElement("span",{id:"notification-stream-icon-container","notification-stream-indicator":"true"})));try{de().module("notificationStreamIcon"),de().module("notificationStream"),p=T().createElement(kn,null)}catch(e){console.log(e)}return T().createElement("ul",{className:"nav navbar-right rbx-navbar-icon-group"},T().createElement(nr,null),T().createElement(er,{translate:t,toggleUniverseSearch:n}),p,T().createElement(Yn,{translate:t,robuxAmount:o,isGetCurrencyCallDone:l,robuxError:e}),T().createElement(Vn,{translate:t,accountNotificationCount:i}))}function cr(){window.location.href=lr()}ir.defaultProps={accountNotificationCount:0},ir.propTypes={translate:m().func.isRequired,accountNotificationCount:m().number,toggleUniverseSearch:m().func.isRequired};var ur=ir,lr=w;function sr(e){e=e.translate;return T().createElement("li",{className:"signup-button-container"},T().createElement(b.Link,{onClick:cr,url:lr(),id:"sign-up-button",className:"rbx-navbar-signup btn-growth-sm nav-menu-title signup-button"},e("Label.sSignUp")))}function fr(){window.location.href=dr()}sr.propTypes={translate:m().func.isRequired};var mr=sr,pr=n,dr=E;function br(e){e=e.translate;return T().createElement("li",{className:"login-action"},pr()&&T().createElement(b.Link,{onClick:fr,url:dr(),className:"rbx-navbar-login btn-secondary-sm nav-menu-title rbx-menu-item"},e("Label.sLogin")))}br.propTypes={translate:m().func.isRequired};var vr=br;function yr(){return(yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function gr(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function hr(e){var t=e.translate,n=e.toggleUniverseSearch,e=gr(e,["translate","toggleUniverseSearch"]);return d.authenticatedUser.isAuthenticated?T().createElement("div",{className:"navbar-right rbx-navbar-right"},T().createElement(ur,yr({translate:t,toggleUniverseSearch:n},e))):T().createElement("div",{className:"navbar-right rbx-navbar-right"},T().createElement("ul",{className:"nav navbar-right rbx-navbar-right-nav"},T().createElement(mr,{translate:t}),T().createElement(vr,{translate:t}),T().createElement(er,{translate:t,toggleUniverseSearch:n})))}hr.propTypes={translate:m().func.isRequired,toggleUniverseSearch:m().func.isRequired};var Sr=hr;function Er(){return(Er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Or(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cr=(0,L.withTranslations)(function(e){var t=De(),n=wr((0,j.useState)(t),2),r=n[0],a=n[1],t=(n=wr((0,j.useState)(!t),2))[0],o=n[1],i=(0,j.useCallback)(function(){var e=De();r!==e&&(a(e),o(!e))},[r]);return(0,j.useEffect)(function(){return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}},[i]),T().createElement(T().Fragment,null,T().createElement(sn,Er({isUniverseSearchShown:t},e)),T().createElement(Sr,Er({toggleUniverseSearch:function(){o(function(e){return!e})}},e)))},s),xr=t;function Ar(e){var e=e.translate,t=document.getElementById(xr);return T().createElement(b.Button,{id:"skip-to-main-content",size:b.Button.sizes.extraSmall,variant:b.Button.variants.primary,onClick:function(){return t.focus()}},e("Action.SkipToMainContent")||"Skip to main content")}Ar.propTypes={translate:m().func.isRequired};var Ir=Ar,Nr=u,kr=d.authenticatedUser.isAuthenticated;function jr(e){var t=b.IconButton.iconTypes;return T().createElement(j.Fragment,null,T().createElement(Ir,e),kr&&T().createElement(b.IconButton,{className:"menu-button",iconType:t.navigation,iconName:"nav-menu",onClick:function(){document.dispatchEvent(new CustomEvent(Nr.name))}}))}jr.propTypes={};var Tr=(0,L.withTranslations)(jr,s),Rr=(Ur(635),"right-navigation-header"),Lr="left-navigation-container",Pr="header-menu-icon";(0,R.ready)(function(){document.getElementById(Pr)&&(0,e.render)(T().createElement(Tr,null),document.getElementById(Pr)),document.getElementById(Rr)&&(0,e.render)(T().createElement(Cr,null),document.getElementById(Rr)),document.getElementById(Lr)&&(0,e.render)(T().createElement(dt,null),document.getElementById(Lr))})}()}();
//# sourceMappingURL=https://js.rbxcdn.com/6eb7de745fcab3faed6f-navigation.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("Navigation");